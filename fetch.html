<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
// get
///1
let todosList = []
const getData = async () => {
    let response = await fetch('https://jsonplaceholder.typicode.com/todos/')
    if (response.ok) {
        let json = await response.json();
        return json;
    }
}

let gh = getData().then(data => {
    data.forEach((val)=>{
        todosList.push(val)
    })
    return todosList
})
console.log('todos',todosList)
///2
let todoUrl = 'https://jsonplaceholder.typicode.com/todos/'
let todosList = []
const getData = async (url) => {
    let response = await fetch(url)
    if (response.ok) {
        let json = await response.json();
        return json;
    }
}
getData(todoUrl).then(data => {
    data.forEach((val)=>{
        todosList.push(val)
    })
    return todosList
})
console.log('todos',todosList)



////////////////////////////////////////////////////////////////



fetch('https://jsonplaceholder.typicode.com/todos/')
        .then(response => response.json())
        .then(json => console.log('success get',json))
//Creating a resource
fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST',
    body: JSON.stringify({
        title: 'foo3',
        body: 'bar5',
        userId: 11,
    }),
    headers: {
        'Content-type': 'application/json; charset=UTF-8',
    },
})
    .then((response) => response.json())
    .then((json) => console.log('success post',json));
//Updating a resource
fetch('https://jsonplaceholder.typicode.com/posts/1', {
    method: 'PUT',
    body: JSON.stringify({
        id: 13,
        title: 'foo56',
        body: 'bar789',
        userId: 1,
    }),
    headers: {
        'Content-type': 'application/json; charset=UTF-8',
    },
})
    .then((response) => response.json())
    .then((json) => console.log('success put',json));

//Deleting a resource
fetch('https://jsonplaceholder.typicode.com/posts/1', {
    method: 'DELETE',
});

//     //////////////////////////////////////////////////////////////
//   var url = 'https://reqbin.com/echo/get/json';
//   fetch(url)
//           .then((response) => {
//             return response.json();
//           })
//           .then((data) => {
//             console.log(data);
//           });
//
//
//   // Пример отправки POST запроса:
//   async function postData(url = '', data = {
//     "Id": 78912,
//     "Customer": "Jason Sweet",
//     "Quantity": 1,
//     "Price": 18.00
//   }) {
//     // Default options are marked with *
//     const response = await fetch(url, {
//       method: 'POST', // *GET, POST, PUT, DELETE, etc.
//       mode: 'cors', // no-cors, *cors, same-origin
//       cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
//       credentials: 'same-origin', // include, *same-origin, omit
//       headers: {
//         'Content-Type': 'application/json'
//         // 'Content-Type': 'application/x-www-form-urlencoded',
//       },
//       redirect: 'follow', // manual, *follow, error
//       referrerPolicy: 'no-referrer', // no-referrer, *client
//       body: JSON.stringify(data) // body data type must match "Content-Type" header
//     });
//     return await response.json(); // parses JSON response into native JavaScript objects
//   }
//
//   postData('https://reqbin.com/echo/post/json', { answer: 42 })
//           .then((data) => {
//             console.log('success',data); // JSON data parsed by `response.json()` call
//           });
// ///////////////
//
//   var url = "https://reqbin.com/echo/post/json";
//
//   var xhr = new XMLHttpRequest();
//   xhr.open("POST", url);
//
//   xhr.setRequestHeader("Accept", "application/json");
//   xhr.setRequestHeader("Content-Type", "application/json");
//
//   xhr.onreadystatechange = function () {
//       if (xhr.readyState === 4) {
//           console.log(xhr.status);
//           console.log(xhr.responseText);
//       }};
//
//   var data = `{
//   "Id": 78912,
//   "Customer": "Jason Sweet",
//   "Quantity": 1,
//   "Price": 18.00
// }`;
//
//   xhr.send(data);
//   ////////////////////////
//
//   var url = "https://reqbin.com/echo/post/json";
//
//   var xhr = new XMLHttpRequest();
//   xhr.open("GET", url);
//
//   xhr.setRequestHeader("Accept", "application/json");
//
//   xhr.onreadystatechange = function () {
//       if (xhr.readyState === 4) {
//           console.log(xhr.status);
//           console.log(xhr.responseText);
//       }};
//
//   xhr.send();
// /////////////////////////////
//
//   var url = "https://reqbin.com/echo/post/json";
//
//   var xhr = new XMLHttpRequest();
//   xhr.open("POST", url);
//
//   xhr.setRequestHeader("Accept", "application/json");
//   xhr.setRequestHeader("Content-Type", "application/json");
//
//   xhr.onreadystatechange = function () {
//       if (xhr.readyState === 4) {
//           console.log(xhr.status);
//           console.log(xhr.responseText);
//       }};
//
//   var data = `{
//   "Id": 78912,
//   "Customer": "Jason Sweet",
//   "Quantity": 1,
//   "Price": 18.00
// }`;
//
//   xhr.send(data);

</script>
</body>
</html>